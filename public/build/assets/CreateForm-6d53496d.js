import{p as n,v as k,q as S,f as g,b as e,r as B,u as i,a as r,w as v,T as R,e as V,i as $,s as F,d as _,o as h,g as L}from"./app-44978cf3.js";import{a as T,b as U,_ as D}from"./TextInput-4f68e705.js";import{P as N}from"./PrimaryButton-95394e40.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"max-w-md mx-auto mt-4 shadow-lg border rounded-md duration-300 hover:shadow-sm"},M=["src"],P={class:"flex items-center gap-4"},q={key:0,class:"text-sm text-gray-600"},z={class:"fixed inset-0 z-10 overflow-y-auto"},A={class:"flex items-center min-h-screen px-4 py-8"},E={class:"relative w-full max-w-lg p-4 mx-auto bg-white rounded-md shadow-lg"},I={class:"mt-3"},O={class:"flex items-center justify-center mx-auto"},G={class:"items-center gap-2 mt-3 sm:flex"},Y={__name:"CreateForm",setup(H){const o=n(!1),u=n(null),c=n(null),p=n(!1),d=n(null),s=k({title:"",image:null});function w(){u.value.click()}function x(a){var t=a.target.files;if(t&&t.length>0){var l=new FileReader;l.addEventListener("load",function(){c.value.src=l.result,o.value=!0}.bind(this),!1),l.readAsDataURL(t[0])}}function y(){var a=3;d.value=new Cropper(c.value,{aspectRatio:a,viewMode:1})}function C(){d.value.destroy(),d.value=null}function b(){p.value=!0;var a=400,t=1200,l=d.value.getCroppedCanvas({width:t,height:a});l.toBlob(m=>{URL.createObjectURL(m);var f=new FileReader;new DataTransfer().items.add(new File([m],"image")),f.readAsDataURL(m),f.onloadend=()=>{s.image=f.result,o.value=!1,u.value.value="",p.value=!1}})}return S(o,async(a,t)=>{a?y():C()}),(a,t)=>(h(),g("section",null,[e("header",null,[B(a.$slots,"header")]),e("form",{onSubmit:t[1]||(t[1]=V(l=>i(s).post(a.route("banner.store"),{preserveScroll:!0,onSuccess:()=>i(s).reset()}),["prevent"])),class:"mt-6 space-y-6"},[e("div",j,[e("a",{onClick:w},[e("img",{src:i(s).image,id:"banner",loading:"lazy",alt:"Click to add Banner",class:"w-full h-48 rounded-t-md"},null,8,M)])]),e("input",{ref_key:"upload_image",ref:u,type:"file",name:"upload_image",class:"image",id:"upload_image",accept:"image/gif, image/png, image/jpeg",onChange:x,hidden:""},null,544),e("div",null,[r(D,{for:"title",value:"Title"}),r(T,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:i(s).title,"onUpdate:modelValue":t[0]||(t[0]=l=>i(s).title=l),required:"",autofocus:"",autocomplete:"title"},null,8,["modelValue"]),r(U,{class:"mt-2",message:i(s).errors.title},null,8,["message"])]),e("div",P,[r(N,{disabled:i(s).processing},{default:v(()=>[_("Save")]),_:1},8,["disabled"]),r(R,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:v(()=>[i(s).recentlySuccessful?(h(),g("p",q,"Saved.")):L("",!0)]),_:1})])],32),$(e("div",z,[e("div",{class:"fixed inset-0 w-full h-full bg-black opacity-40",onClick:t[2]||(t[2]=()=>{})},"x"),e("div",A,[e("div",E,[e("div",I,[e("div",O,[e("img",{ref_key:"sample_image",ref:c,src:"",id:"sample_image"},null,512)])]),e("div",G,[e("button",{onClick:b,class:"w-full mt-2 p-2.5 flex-1 text-white bg-indigo-600 rounded-md outline-none ring-offset-2 ring-indigo-600 focus:ring-2"}," Save "),e("button",{onClick:t[3]||(t[3]=l=>o.value=a.fasle),class:"w-full mt-2 p-2.5 flex-1 text-gray-800 rounded-md outline-none border ring-offset-2 ring-indigo-600 focus:ring-2"}," Cancel ")])])]),_("> ")],512),[[F,o.value]])]))}};export{Y as default};
